Исправленный код:

```c++
#include <iostream>
#include <cmath>

using namespace std;

int main()
{
    double x = 0.3;
    double a = 1.5;
    double b = -7.1;
    double y;
    
    while(x <= 1)
    {
        y = b * pow(tan(x), 2);
        x += 0.1;
    }

    return 0;
}
```

Изменения, которые я внес:

1. Объявил переменную `x` в начале программы и инициализировал ее значением `0.3`, чтобы использовать ее в условии цикла `while`.

2. Добавил `#include <cmath>` для использования функции `pow` (вычисление степени).

3. Объявил переменную `y` перед циклом, чтобы использовать ее для вычисления значения функции.

4. Изменил условие цикла `while` на `x <= 1`.

5. Внутри цикла вычисляю значение функции `y` для текущего значения `x`, увеличиваю `x` на `0.1`.

Обратите внимание, что в вашем изначальном коде `x` не была объявлена, а в условии цикла использовалось выражение `0.3<=x<=1`, которое не является корректным в C++. Также переменная `y` не была объявлена, а `a` не использовалась в коде.